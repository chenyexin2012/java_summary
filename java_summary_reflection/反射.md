### java反射
1 反射机制

在Java中的反射机制是指在运行状态中，对于任意一个类都能够知道这个类所有的属性和方法；并且对于任意一个对象，都能够调用它的任意一个方法；这种动态获取信息以及动态调用对象方法的功能称为Java语言的反射机制。
    
2 主要功能

- 在运行时判断任意一个对象所属的类
- 在运行时构造任意一个类的对象
- 在运行时判断任意一个类所具有的成员变量和方法（包括private变量和方法）
- 在运行时调用任意一个对象的方法（包括private方法）

3 常用方法
    
获取Class对象的三种方式：

    通过对象的getClass方法，如：obj.getClass()
    通过Object类的静态属性class，如：Object.class
    通过Class的静态方法classForName()，如：Class.forName("java.lang.String")
        
通过Class对象获取类的构造方法以及参数：

    获取所有公有构造方法：Constructor[] constructors = clazz.getConstructors();
    获取所有构造方法：Constructor[] constructors = clazz.getDeclaredConstructors();
    获取公有无参的构造方法：Constructor constructor = clazz.getConstructor(null);
    获取指定参数类型的公有构造方法，如：Constructor constructor = clazz.getConstructor(String.class, int.class);
    获取指定参数类型的构造方法（包括非公有方法），如：Constructor constructor = clazz.getDeclaredConstructor(int.class);
    获取对应构造方法的参数：Type[] types = constructor.getGenericParameterTypes();
    
通过反射调用构造方法实例化对象：
    
    公有无参构造方法：
        Constructor constructor = clazz.getConstructor(null);
        Object obj = constructor.newInstance();
    公有带参构造方法，如：
        Constructor constructor = clazz.getConstructor(String.class, int.class);
        constructor.newInstance("aaa", 1);
    非公有无参构造方法：
        Constructor constructor = clazz.getConstructor(null);
        constructor.setAccessible(true);
        Object obj = constructor.newInstance();
    非公有带参构造方法，如：
        Constructor constructor = clazz.getConstructor(String.class, int.class);
        constructor.setAccessible(true);
        constructor.newInstance("aaa", 1);
        
通过Class对象获取类的字段：

    获取所有公有字段：Field[] fields = clazz.getFields();
    获取所有字段：Field[] fields = clazz.getDeclaredFields();
    获取字段值：field.get(obj)，非公有字段需要field.setAccessible(true);
    为字段赋值：field.set(obj, value)，非公有字段需要field.setAccessible(true);
    
通过Class对象获取类的方法：

    获取所有公有方法：Method[] methods = clazz.getMethods();
    获取所有方法：Method[] methods = clazz.getDeclaredMethods();
    根据方法名和参数类型获取对应方法：
        公有：clazz.getMethod(String name, Class<?>... parameterTypes)
        所有：clazz.getDeclaredMethod(String name, Class<?>... parameterTypes)
    调用方法：
        method.invoke(Object obj, Object... args)
        非公有方法需要method.setAccessible(true);
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        